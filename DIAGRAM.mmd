%%{init: {'theme': 'base', 'themeVariables': { 
  'background': 'transparent', 
  'clusterBkg': 'transparent', 
  'clusterBorder': '#38bdf8', 
  'primaryColor': '#4f46e5', 
  'primaryTextColor': '#ffffff', 
  'tertiaryColor': '#f3f4f6'
}}}%%
graph LR
    subgraph Frontend
        A[🌐 Client Browser] --> |HTTPS| B[⚛️ Next.js Frontend]
        B --> |OAuth| C[🔐 NextAuth.js]
    end

    subgraph Backend
        B --> |REST API| D[⚡ FastAPI Backend]
        D --> |API Calls| E[🧠 OpenAI LLM]
        D --> |SQL Queries| F[🗄️ PostgreSQL DB]
        F --> |Similarity Search| G[📊 Vector Embeddings]
    end

    classDef primary fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:white,rx:10
    classDef secondary fill:#6366f1,stroke:#4f46e5,stroke-width:2px,color:white,rx:10
    classDef storage fill:#0ea5e9,stroke:#0284c7,stroke-width:2px,color:white,rx:10
    classDef auth fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:white,rx:10
    classDef ai fill:#10b981,stroke:#059669,stroke-width:2px,color:white,rx:10

    class A,B primary
    class C auth
    class D secondary
    class E ai
    class F,G storage

    linkStyle default stroke-width:2px,fill:none,stroke:#94a3b8
